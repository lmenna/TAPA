{"version":3,"sources":["../../src/loaders/etherscanLoader.js"],"names":["urlForPrices","loadPricingData","console","log","Promise","resolve","reject","uri","method","timeout","followRedirect","maxRedirects","error","response","body","statusCode","substring"],"mappings":";;;;;;;AAKA;;;;;;;;AAEA,IAAIA,YAAY,GAAG,kDAAnB;;SAEeC,e;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAEEC,YAAAA,OAAO,CAACC,GAAR,CAAY,6DAAZ;AAFF,6CAGS,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,oCAAQ;AACNC,gBAAAA,GAAG,EAAEP,YADC;AAENQ,gBAAAA,MAAM,EAAE,KAFF;AAGNC,gBAAAA,OAAO,EAAE,KAHH;AAINC,gBAAAA,cAAc,EAAE,IAJV;AAKNC,gBAAAA,YAAY,EAAE;AALR,eAAR,EAMG,UAASC,KAAT,EAAgBC,QAAhB,EAA0BC,IAA1B,EAAgC;AACjC,oBAAI,CAACF,KAAD,IAAUC,QAAQ,CAACE,UAAT,KAAsB,GAApC,EAAyC;AACvCb,kBAAAA,OAAO,CAACC,GAAR,CAAYW,IAAI,CAACE,SAAL,CAAe,CAAf,EAAiB,GAAjB,CAAZ;AACAX,kBAAAA,OAAO,CAACS,IAAD,CAAP;AACD,iBAHD,MAIK;AACHR,kBAAAA,MAAM,CAACM,KAAD,CAAN;AACD;AACF,eAdD;AAeD,aAhBM,CAHT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/* etherscanLoader.js\n * desc: Utilities for automatically loading public data from etherscan.io\n *\n */\n\nimport request from \"request\";\n\nvar urlForPrices = \"https://etherscan.io/chart/etherprice?output=csv\";\n\nasync function loadPricingData() {\n  var pricingData;\n  console.log(\"request.get(urlForPrices, function (error, response, body))\");\n  return new Promise(function (resolve, reject) {\n    request({\n      uri: urlForPrices,\n      method: \"GET\",\n      timeout: 10000,\n      followRedirect: true,\n      maxRedirects: 10\n    }, function(error, response, body) {\n      if (!error && response.statusCode===200) {\n        console.log(body.substring(1,100));\n        resolve(body);\n      }\n      else {\n        reject(error);\n      }\n    });\n  });\n}\n\nexport {loadPricingData};\n"],"file":"etherscanLoader.js"}