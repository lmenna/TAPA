{"version":3,"sources":["../../src/routes/routes.js"],"names":["express","require","path","appRouter","app","use","req","res","next","header","dirname","static","join","get","sendFile","console","log","data","status","send","module","exports"],"mappings":";;AAAA;;;;;;AACA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEA,IAAIE,SAAS,GAAG,SAAZA,SAAY,CAAUC,GAAV,EAAe;AAE7BA,EAAAA,GAAG,CAACC,GAAJ,CAAQ,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/BD,IAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,IAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACAD,IAAAA,IAAI;AACL,GAJD;AAMA,MAAIE,OAAO,GAAG,yBAAd;AACAN,EAAAA,GAAG,CAACC,GAAJ,CAAQL,OAAO,CAACW,MAAR,CAAeT,IAAI,CAACU,IAAL,CAAUF,OAAV,EAAmB,UAAnB,CAAf,CAAR;AACAN,EAAAA,GAAG,CAACS,GAAJ,CAAQ,GAAR,EAAa,UAASP,GAAT,EAAcC,GAAd,EAAmB;AAC9BA,IAAAA,GAAG,CAACO,QAAJ,CAAaZ,IAAI,CAACU,IAAL,CAAUF,OAAV,EAAmB,UAAnB,EAA+B,YAA/B,CAAb;AACD,GAFD,EAV6B,CAc7B;AACA;AACA;AAEA;;AACAN,EAAAA,GAAG,CAACS,GAAJ,CAAQ,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAoB,iBAAgBP,GAAhB,EAAqBC,GAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAElBQ,cAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AAFkB;AAAA,qBAGD,gCAHC;;AAAA;AAGdC,cAAAA,IAHc;AAIlBV,cAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,IAArB;;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAApB;;AAAA;AAAA;AAAA;AAAA;AAMD,CAzBD;;AA0BAG,MAAM,CAACC,OAAP,GAAiBlB,SAAjB","sourcesContent":["import { getArbitrageData } from \"../utils/dbUtils\"\nconst express = require('express');\nconst path = require('path');\n\nvar appRouter = function (app) {\n  \n  app.use(function(req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n    next();\n  });\n  \n  var dirname = \"/usr/local/dist/arbmon/\";\n  app.use(express.static(path.join(dirname, 'build-ui')));\n  app.get('/', function(req, res) {\n    res.sendFile(path.join(dirname, 'build-ui', 'index.html'));\n  });\n  \n  // app.get(\"/\", function(req, res) {\n  //   res.status(200).send(\"Welcome to our restful API\");\n  // });\n\n  // Route to query mongoDB for arbitrage data.\n  app.get(\"/arbdata\", async function (req, res) {\n\n    console.log(\"Calling getArbitrageData\");\n    var data = await getArbitrageData();\n    res.status(200).send(data);\n  });\n}\nmodule.exports = appRouter;\n"],"file":"routes.js"}